{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rasika\\\\Desktop\\\\firebase-auth-article-master\\\\firebase-auth-article-master\\\\src\\\\Dashboard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./Dashboard.css\";\nimport { auth, db, logout } from \"./firebase\";\nimport { query, collection, getDocs, where } from \"firebase/firestore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Dashboard() {\n  _s();\n\n  const [user, loading, error] = useAuthState(auth);\n  const [name, setName] = useState(\"\");\n  const navigate = useNavigate();\n\n  const fetchUserName = async () => {\n    try {\n      const q = query(collection(db, \"users\"), where(\"uid\", \"==\", user === null || user === void 0 ? void 0 : user.uid));\n      const doc = await getDocs(q);\n      const data = doc.docs[0].data();\n      setName(data.name);\n    } catch (err) {\n      console.error(err);\n      alert(\"An error occured while fetching user data\");\n    }\n  };\n\n  useEffect(() => {\n    if (loading) return;\n    if (!user) return navigate(\"/\");\n    fetchUserName();\n  }, [user, loading]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      class: \"navbar navbar-inverse\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container-fluid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"navbar-header\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            class: \"navbar-brand\",\n            href: \"#\",\n            children: \"WebSiteName\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          class: \"nav navbar-nav\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            class: \"active\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              children: \"Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 32\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            class: \"dropdown\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              class: \"dropdown-toggle\",\n              \"data-toggle\": \"dropdown\",\n              href: \"#\",\n              children: [\"Page 1 \", /*#__PURE__*/_jsxDEV(\"span\", {\n                class: \"caret\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 42,\n                columnNumber: 100\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 34\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              class: \"dropdown-menu\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"#\",\n                  children: \"Page 1-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 44,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 44,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"#\",\n                  children: \"Page 1-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 45,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 45,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"#\",\n                  children: \"Page 1-3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 46,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              children: \"Page 2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          class: \"nav navbar-nav navbar-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                class: \"glyphicon glyphicon-user\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 29\n              }, this), \" Sign Up\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                class: \"glyphicon glyphicon-log-in\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 29\n              }, this), \" Login\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard__container\",\n        children: [\"Logged in as\", /*#__PURE__*/_jsxDEV(\"div\", {\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: user === null || user === void 0 ? void 0 : user.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"dashboard__btn\",\n          onClick: logout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Dashboard, \"uRyN7LcI9N/Hvip+FzXkom5uuDk=\", false, function () {\n  return [useAuthState, useNavigate];\n});\n\n_c = Dashboard;\nexport default Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"sources":["C:/Users/rasika/Desktop/firebase-auth-article-master/firebase-auth-article-master/src/Dashboard.js"],"names":["React","useEffect","useState","useAuthState","useNavigate","auth","db","logout","query","collection","getDocs","where","Dashboard","user","loading","error","name","setName","navigate","fetchUserName","q","uid","doc","data","docs","err","console","alert","email"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./Dashboard.css\";\nimport { auth, db, logout } from \"./firebase\";\nimport { query, collection, getDocs, where } from \"firebase/firestore\";\n\nfunction Dashboard() {\n  const [user, loading, error] = useAuthState(auth);\n  const [name, setName] = useState(\"\");\n  const navigate = useNavigate();\n\n  const fetchUserName = async () => {\n    try {\n      const q = query(collection(db, \"users\"), where(\"uid\", \"==\", user?.uid));\n      const doc = await getDocs(q);\n      const data = doc.docs[0].data();\n\n      setName(data.name);\n    } catch (err) {\n      console.error(err);\n      alert(\"An error occured while fetching user data\");\n    }\n  };\n\n  useEffect(() => {\n    if (loading) return;\n    if (!user) return navigate(\"/\");\n\n    fetchUserName();\n  }, [user, loading]);\n\n  return (\n    <div>\n      <nav class=\"navbar navbar-inverse\">\n        <div class=\"container-fluid\">\n          <div class=\"navbar-header\">\n            <a class=\"navbar-brand\" href=\"#\">WebSiteName</a>\n          </div>\n          <ul class=\"nav navbar-nav\">\n            <li class=\"active\"><a href=\"#\">Home</a></li>\n            <li class=\"dropdown\"><a class=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\"#\">Page 1 <span class=\"caret\"></span></a>\n              <ul class=\"dropdown-menu\">\n                <li><a href=\"#\">Page 1-1</a></li>\n                <li><a href=\"#\">Page 1-2</a></li>\n                <li><a href=\"#\">Page 1-3</a></li>\n              </ul>\n            </li>\n            <li><a href=\"#\">Page 2</a></li>\n          </ul>\n          <ul class=\"nav navbar-nav navbar-right\">\n            <li><a href=\"#\"><span class=\"glyphicon glyphicon-user\"></span> Sign Up</a></li>\n            <li><a href=\"#\"><span class=\"glyphicon glyphicon-log-in\"></span> Login</a></li>\n          </ul>\n        </div>\n      </nav>\n\n      <div className=\"dashboard\">\n\n        <div className=\"dashboard__container\">\n          Logged in as\n          <div>{name}</div>\n          <div>{user?.email}</div>\n          <button className=\"dashboard__btn\" onClick={logout}>\n            Logout\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}